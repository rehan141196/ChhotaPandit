(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const I=JSON.parse(`[{"id":"bw001","title":"3 Idiots","category":"Bollywood","points":1,"hints":"A coming-of-age comedy about three engineering students"},{"id":"bw002","title":"Sholay","category":"Bollywood","points":2,"hints":"A dacoit western about two friends hired to stop a ruthless bandit"},{"id":"bw003","title":"Dilwale Dulhania Le Jayenge","category":"Bollywood","points":1,"hints":"A cross-continent romance about tradition, rebellion, and holding on to love"},{"id":"bw004","title":"Lagaan","category":"Bollywood","points":3,"hints":"Villagers stake everything on a cricket match to escape colonial tax"},{"id":"bw005","title":"Mughal-E-Azam","category":"Bollywood","points":4,"hints":"An imperial romance between a prince and a courtesan"},{"id":"bw006","title":"Zindagi Na Milegi Dobara","category":"Bollywood","points":2,"hints":"Three friends find themselves on a life-changing road trip"},{"id":"bw007","title":"Queen","category":"Bollywood","points":4,"hints":"A jilted bride discovers freedom on a solo trip"},{"id":"bw008","title":"Dangal","category":"Bollywood","points":3,"hints":"A wrestler trains his daughters to world-class glory"},{"id":"bw009","title":"Taare Zameen Par","category":"Bollywood","points":3,"hints":"A dyslexic boy finds his spark with a patient art teacher"},{"id":"bw010","title":"Gully Boy","category":"Bollywood","points":3,"hints":"A Mumbai kid discovers his voice through hip-hop"},{"id":"bw011","title":"Pink","category":"Bollywood","points":4,"hints":"A courtroom drama that asserts consent is non-negotiable"},{"id":"bw012","title":"Article 15","category":"Bollywood","points":4,"hints":"A cop confronts caste injustice in rural India"},{"id":"bw013","title":"Andhadhun","category":"Bollywood","points":3,"hints":"A blind pianist is drawn into a murder he can't unsee"},{"id":"bw014","title":"Tumhari Sulu","category":"Bollywood","points":4,"hints":"A homemaker becomes a late-night radio host"},{"id":"bw015","title":"Hindi Medium","category":"Bollywood","points":3,"hints":"Parents scheme for a coveted school admission"},{"id":"bw016","title":"Piku","category":"Bollywood","points":4,"hints":"A road trip tests a daughter's patience and a father's stomach"},{"id":"bw017","title":"Toilet - Ek Prem Katha","category":"Bollywood","points":2,"hints":"Akshay Kumar film about bathrooms in villages"},{"id":"bw018","title":"Pad Man","category":"Bollywood","points":3,"hints":"Akshay Kumar film about female sanitation"},{"id":"bw019","title":"Super 30","category":"Bollywood","points":4,"hints":"Hrithik Roshan film about engineering coaching"},{"id":"bw020","title":"Badhaai Ho","category":"Bollywood","points":3,"hints":"A family scrambles after a surprise late-in-life pregnancy"},{"id":"bw021","title":"Stree","category":"Bollywood","points":2,"hints":"A small town is haunted by a woman who hunts at night"},{"id":"bw022","title":"Bareilly Ki Barfi","category":"Bollywood","points":4,"hints":"A small-town rom-com of mistaken identity sparked by a beloved book and a mischievous matchmaking plan"},{"id":"bw023","title":"Newton","category":"Bollywood","points":4,"hints":"Rajkumar Rao starts as a clerk who tries to run a fair election in a conflict zone"},{"id":"bw024","title":"Masaan","category":"Bollywood","points":4,"hints":"Interwoven tales on the Ganges about young love and loss colliding with caste"},{"id":"bw025","title":"Jolly LLB","category":"Bollywood","points":3,"hints":"Arshad Warsi plays a lawyer who takes on a corrupt system"},{"id":"bw026","title":"Rang De Basanti","category":"Bollywood","points":2,"hints":"A film about freedom fighters jolts a carefree Delhi crew into conscience and risky action"},{"id":"bw027","title":"My Name Is Khan","category":"Bollywood","points":3,"hints":"A gentle, literal-minded man crosses post-9/11 America to deliver a simple truth and mend a fractured family"},{"id":"bw028","title":"Chak De India","category":"Bollywood","points":1,"hints":"A disgraced ex-captain coaches India's women's hockey team, forging unity, grit, and belief"},{"id":"bw029","title":"Swades","category":"Bollywood","points":3,"hints":"An NRI scientist returns home to spark change"},{"id":"bw030","title":"Haider","category":"Bollywood","points":4,"hints":"A Hamlet-inspired tale set in Kashmir"},{"id":"bw031","title":"Maqbool","category":"Bollywood","points":4,"hints":"A Macbeth-inspired tale against the backdrop of Mumbai's underworld"},{"id":"bw032","title":"Omkara","category":"Bollywood","points":3,"hints":"An Othello-like tragedy in UP politics where jealousy turns allies into enemies"},{"id":"bw033","title":"Gangs of Wasseypur","category":"Bollywood","points":3,"hints":"Decades of vendetta in a coal belt spawn crime dynasties and shifting loyalties"},{"id":"bw034","title":"Tumko Na Bhool Paayenge","category":"Bollywood","points":4,"hints":"A man with gaps in his memory learns his past is far more dangerous than it seems"},{"id":"bw035","title":"Krrish","category":"Bollywood","points":2,"hints":"A gifted young man embraces a masked alter ego to protect those he loves"},{"id":"bw036","title":"Don","category":"Bollywood","points":1,"hints":"A suave crime boss and his lookalike twist a caper where identities keep flipping"},{"id":"bw037","title":"Rock On","category":"Bollywood","points":2,"hints":"Old bandmates reunite to heal rifts and chase the music they left behind"},{"id":"bw038","title":"Dil Chahta Hai","category":"Bollywood","points":1,"hints":"Three close friends navigate love, ego, and adulthood from Goa plans to grown-up choices"},{"id":"bw039","title":"Kuch Kuch Hota Hai","category":"Bollywood","points":1,"hints":"A campus friendship and a secret letter set up a second-chance love"},{"id":"bw040","title":"Kabhi Khushi Kabhie Gham","category":"Bollywood","points":1,"hints":"A cross-continent family epic where pride, status, and love clash and reconcile"},{"id":"bw041","title":"Jab We Met","category":"Bollywood","points":1,"hints":"A chatterbox runaway and a brooding tycoon share a journey that reroutes their lives"},{"id":"bw042","title":"Tanu Weds Manu","category":"Bollywood","points":2,"hints":"An NRI doctor and a firebrand bride-to-be spar through small-town shaadi chaos"},{"id":"bw043","title":"Arjun Reddy","category":"Bollywood","points":4,"hints":"A brilliant but volatile surgeon spirals after heartbreak, chasing ruin and redemption"},{"id":"bw044","title":"Raazi","category":"Bollywood","points":3,"hints":"A young recruit marries into a military family across the border to relay secrets home"},{"id":"bw045","title":"URI - The Surgical Strike","category":"Bollywood","points":3,"hints":"A special-forces unit plans a precise retaliation across the borderafter a deadly attack"},{"id":"bw046","title":"Shershaah","category":"Bollywood","points":4,"hints":"A brave officer's Kargil exploits cement a legend built on grit and duty"},{"id":"bw047","title":"Sardar Udham","category":"Bollywood","points":4,"hints":"A revolutionary's long road to justice traces the shadow of the Jallianwala Bagh massacre"},{"id":"bw048","title":"The Kashmir Files","category":"Bollywood","points":4,"hints":"A man digs into his family's past amid the turmoil and exodus of 1990s Kashmir"},{"id":"bw049","title":"Pushpa","category":"Bollywood","points":3,"hints":"A labourer in the red-sandalwood trade claws his way up a ruthless syndicate"},{"id":"bw050","title":"KGF Chapter 2","category":"Bollywood","points":4,"hints":"A feared kingpin tightens his grip on a gold empire as rivals gather"},{"id":"bw051","title":"Chhota Pandit","category":"Bollywood","points":4,"hints":"Tantrik from Bhool Bhulaiyya who is supposed to stay away from water"},{"id":"bw052","title":"Uday Bhai","category":"Bollywood","points":1,"hints":"A don from Welcome who is a born star"},{"id":"bw053","title":"Majnu Bhai","category":"Bollywood","points":1,"hints":"A don from Welcome and artist famous for his donkey on a horse masterpiece"},{"id":"bw054","title":"Golmaal","category":"Bollywood","points":1,"hints":"Four friends, one mute, and a mountain of mistaken identities fuel slapstick mayhem"},{"id":"bw055","title":"Tusshar Kapoor","category":"Bollywood","points":2,"hints":"Golmaal's silent scene stealer who says volumes without words"},{"id":"bw056","title":"Hera Pheri","category":"Bollywood","points":1,"hints":"A wrong number ransom mix up turns three broke tenants into chaotic schemers"},{"id":"bw057","title":"DK Malik","category":"Bollywood","points":4,"hints":"Air traffic controller from Dhamaal"},{"id":"bw058","title":"Phir Hera Pheri","category":"Bollywood","points":1,"hints":"A cash dreaming trio chase a quick rich scheme into even bigger trouble"},{"id":"bw059","title":"Rinkiya Ke Paapa","category":"Bollywood","points":4,"hints":"A Bhojpuri song turned meme belted at full volume with an iconic step"},{"id":"bw060","title":"PK","category":"Bollywood","points":1,"hints":"An inquisitive outsider from another planet questions faith and fakery"},{"id":"bw061","title":"Salman Bhai","category":"Bollywood","points":2,"hints":"Endearing term for an actor known for his Eid releases and iconic dance steps"},{"id":"bw062","title":"Himesh Reshamiaya","category":"Bollywood","points":1,"hints":"Cap and mike hitmaker of 2000s hooks with nasal charm"},{"id":"bw063","title":"Chamach Ek Cheeni Do Baar","category":"Bollywood","points":4,"hints":"Raghu's dialogue from All The Best when asked how we likes his tea"},{"id":"bw064","title":"Coolie No. 1","category":"Bollywood","points":2,"hints":"A porter turned prince in a matchmaking farce of swapped identities and songs"},{"id":"bw065","title":"Geet","category":"Bollywood","points":3,"hints":"A bubbly traveler who declares \\"Main apni favourite hoon\\" on a life rerouting journey"},{"id":"bw066","title":"Bhool Bhulaiyya","category":"Bollywood","points":1,"hints":"A haunted haveli, Manjulika's legend and a comical exorcism squad"},{"id":"bw067","title":"Maaro Deekro","category":"Bollywood","points":4,"hints":"Endearing name for the vintage car in Dhamaal"},{"id":"bw068","title":"Raghunandandas Govardhandas Vakavle","category":"Bollywood","points":3,"hints":"Sanjay Mishra's character in All The Best"},{"id":"bw069","title":"Deja Chu","category":"Bollywood","points":4,"hints":"Fukrey reference when Choocha can see the future"},{"id":"bw070","title":"Soni De Nakhre","category":"Bollywood","points":3,"hints":"A peppy party track from Partner"},{"id":"bw071","title":"Ganpat","category":"Bollywood","points":4,"hints":"A raucous bar banger calling the bartender by name"},{"id":"bw072","title":"Majnu Bhai Ki Painting","category":"Bollywood","points":2,"hints":"Welcome don's modern art, donkey on a horse image"},{"id":"bw073","title":"Kyun Thak Rahe Ho","category":"Bollywood","points":3,"hints":"Papa Ranjit's dialogue from Housefull"},{"id":"sp001","title":"Virat Kohli","category":"Sports","points":1,"hints":"A run-machine batter famed for fierce chases and silken drives"},{"id":"sp002","title":"MS Dhoni","category":"Sports","points":1,"hints":"A cool-headed finisher and World Cup winning captain"},{"id":"sp003","title":"Sachin Tendulkar","category":"Sports","points":1,"hints":"The God of Cricket"},{"id":"sp004","title":"Kapil Dev","category":"Sports","points":2,"hints":"An all-rounder who lifted the 1983 World Cup"},{"id":"sp005","title":"Mary Kom","category":"Sports","points":3,"hints":"A boxing icon who turned grit into medals"},{"id":"sp006","title":"PV Sindhu","category":"Sports","points":3,"hints":"A badminton champion with thunderous smashes"},{"id":"sp007","title":"Saina Nehwal","category":"Sports","points":3,"hints":"A trailblazing badminton star and former world No. 1"},{"id":"sp008","title":"Sunil Chhetri","category":"Sports","points":3,"hints":"A goal-scorer who carried the tricolor on the pitch"},{"id":"sp009","title":"Neeraj Chopra","category":"Sports","points":2,"hints":"An Olympic champion who sent the javelin into history"},{"id":"sp010","title":"Sushil Kumar","category":"Sports","points":3,"hints":"A freestyle mat maestro who took India from Beijing bronze to London silver"},{"id":"sp011","title":"Abhinav Bindra","category":"Sports","points":2,"hints":"An Olympic gold medal shooter with ice-cold focus"},{"id":"sp012","title":"Leander Paes","category":"Sports","points":4,"hints":"A tennis doubles maestro with Grand Slam longevity"},{"id":"sp013","title":"Mahesh Bhupathi","category":"Sports","points":4,"hints":"A tennis doubles specialist who put India on Slam podiums"},{"id":"sp014","title":"Sania Mirza","category":"Sports","points":2,"hints":"A tennis star who served up new possibilities in Indian tennis"},{"id":"sp015","title":"Rohit Sharma","category":"Sports","points":1,"hints":"An opener and captain called the Hitman"},{"id":"sp016","title":"Hardik Pandya","category":"Sports","points":2,"hints":"A power hitting all rounder made for white ball chaos and known for his swag"},{"id":"sp017","title":"Jasprit Bumrah","category":"Sports","points":1,"hints":"A yorker artist with a slingy, lethal action"},{"id":"sp018","title":"Ravindra Jadeja","category":"Sports","points":3,"hints":"An left handed all-rounder who won the T20 World Cup in 2024"},{"id":"sp019","title":"KL Rahul","category":"Sports","points":3,"hints":"An elegant batter who can also wicket keep in white ball cricket"},{"id":"sp020","title":"Rishabh Pant","category":"Sports","points":2,"hints":"A fearless keeper-batter knwon for his audacious shots"},{"id":"sp021","title":"Shikhar Dhawan","category":"Sports","points":4,"hints":"A moustache twirling southpaw opener who lit up the 2013 Champions Trophy"},{"id":"sp022","title":"Mohammed Shami","category":"Sports","points":4,"hints":"A seam master who hits the top of off and was an integral part of the 2023 World Cup bowling attack"},{"id":"sp023","title":"Yuzvendra Chahal","category":"Sports","points":4,"hints":"A wily leg-spinner and former chess prodigy who wins battles with drift, dip, and guile"},{"id":"sp024","title":"Bhuvneshwar Kumar","category":"Sports","points":4,"hints":"A seam-up craftsman who swings it both ways in the powerplay and slips yorkers in at the death"},{"id":"sp025","title":"Ajinkya Rahane","category":"Sports","points":3,"hints":"An understated cricketer from Mumbai and away-century specialist who steadies storms"},{"id":"sp026","title":"Cheteshwar Pujara","category":"Sports","points":3,"hints":"India's marathon No. 3 who can play long innings and take body blows"},{"id":"sp027","title":"Smriti Mandhana","category":"Sports","points":2,"hints":"A graceful left-hand opener whose cover drives and big-tournament knocks light up women's cricket"},{"id":"sp028","title":"Harmanpreet Kaur","category":"Sports","points":3,"hints":"An explosive middle-order captain of the Indian women's cricket team"},{"id":"sp029","title":"Mithali Raj","category":"Sports","points":2,"hints":"An ODI run machine and long serving skipper who redefined women's cricket in India"},{"id":"sp030","title":"Jhulan Goswami","category":"Sports","points":4,"hints":"A towering pace spearhead in women's cricket nick-named 'Chakda Express'"},{"id":"sp031","title":"Sakshi Malik","category":"Sports","points":4,"hints":"A trailblazing wrestler whose last minute Rio 2016 surge won India its first Olympic medal by a woman on the mat"},{"id":"sp032","title":"PT Usha","category":"Sports","points":1,"hints":"The sprint queen who inspired a generation"},{"id":"sp033","title":"BSNL Chauka","category":"Sports","points":4,"hints":"A common jingle heard on radio cricket commentary when a four is hit"},{"id":"sp034","title":"Gilli Danda","category":"Sports","points":3,"hints":"Traditional Indian sport similar to cricket"},{"id":"sp035","title":"Mumbai Indians","category":"Sports","points":1,"hints":"IPL team owned by the Ambanis"},{"id":"sp036","title":"See you at the Gabba Mate","category":"Sports","points":4,"hints":"Sledge uttered by Tim Paine to Rishabh Pant that came back to bite him in Brisbane"},{"id":"sp037","title":"Natwest Series 2007","category":"Sports","points":2,"hints":"The series that prompted Sourav Ganguly's iconic shirtless celebration at Lord's"},{"id":"sp038","title":"Suryakumar Yadav","category":"Sports","points":3,"hints":"A 360-degree batsman from Mumbai born for T20"},{"id":"sp039","title":"Jay Shah","category":"Sports","points":4,"hints":"Former head of the BCCI and son of an Indian politician"},{"id":"sp040","title":"Wankhede","category":"Sports","points":2,"hints":"Cricket stadium in Mumbai"},{"id":"sp041","title":"Eden Gardens","category":"Sports","points":2,"hints":"Cricket stadium in Kolkata"},{"id":"sp042","title":"Milkha Singh","category":"Sports","points":2,"hints":"Indian sprinter with a Bollywood biopic"},{"id":"hf001","title":"Mahatma Gandhi","category":"Historical","points":1,"hints":"Father of the Nation"},{"id":"hf002","title":"Subhas Chandra Bose","category":"Historical","points":2,"hints":"A firebrand who rallied a nation to fight for freedom"},{"id":"hf003","title":"Jawaharlal Nehru","category":"Historical","points":2,"hints":"The first Prime Minister who shaped a young republic"},{"id":"hf004","title":"Sardar Patel","category":"Historical","points":3,"hints":"The Iron Man from Gujarat who unified a patchwork of states"},{"id":"hf005","title":"Dr. APJ Abdul Kalam","category":"Historical","points":2,"hints":"A scientist president who inspired with simplicity"},{"id":"hf006","title":"Chandragupta Maurya","category":"Historical","points":4,"hints":"Founder of an empire in Magadha"},{"id":"hf007","title":"Ashoka the Great","category":"Historical","points":3,"hints":"An emperor who turned conquest into compassion"},{"id":"hf008","title":"Akbar","category":"Historical","points":2,"hints":"A Mughal ruler famed for statecraft and tolerance"},{"id":"hf009","title":"Shivaji Maharaj","category":"Historical","points":3,"hints":"A Maratha founder famed for daring and forts"},{"id":"hf010","title":"Rani Lakshmibai","category":"Historical","points":2,"hints":"The warrior queen who rebelled against the British"},{"id":"hf011","title":"Tipu Sultan","category":"Historical","points":3,"hints":"The Tiger of Mysore who defied empire"},{"id":"hf012","title":"Maharana Pratap","category":"Historical","points":4,"hints":"A Rajput icon of valor and resolve"},{"id":"hf013","title":"Red Fort","category":"Historical","points":1,"hints":"Mughal fort in Delhi built by Shah Jahan"},{"id":"hf014","title":"Aryabhata","category":"Historical","points":3,"hints":"Inventor of the zero"},{"id":"hf015","title":"Chandrashekhar Azad","category":"Historical","points":4,"hints":"Freedom who created the Hindustan Socialist Republican Association"},{"id":"hf016","title":"Bhagat Singh","category":"Historical","points":4,"hints":"Freedom fighter from Punjab who sacrificed his life"},{"id":"hf017","title":"Rani Padmavati","category":"Historical","points":4,"hints":"The queen consort of Mewar known for her beauty"},{"id":"hf018","title":"Swami Vivekananda","category":"Historical","points":4,"hints":"Hindu monk and philosopher who was key in introducing Yoga to the Western world"},{"id":"hf019","title":"Raja Ram Mohan Roy","category":"Historical","points":4,"hints":"The Father of the Indian Renaissance and founder of the Brahmo Samaj"},{"id":"hf020","title":"Sarojini Naidu","category":"Historical","points":2,"hints":"The Nightingale whose words stirred crowds"},{"id":"hf021","title":"Bal Gangadhar Tilak","category":"Historical","points":4,"hints":"Indian nationalist and strongest advocate of Swaraj"},{"id":"hf022","title":"Lala Lajpat Rai","category":"Historical","points":4,"hints":"Revolutionary known as the Lion of Punjab who lost his life protesting against the Simon Commission"},{"id":"hf023","title":"Gopal Krishna Gokhale","category":"Historical","points":4,"hints":"Senior leader of the Indian National Congress and the founder of the Servants of India Society"},{"id":"hf024","title":"Taj Mahal","category":"Historical","points":1,"hints":"Tomb built by Shah Jahan"},{"id":"hf025","title":"Khan Abdul Ghaffar Khan","category":"Historical","points":4,"hints":"Anti-colonial activist known as the Frontier Gandhi"},{"id":"hf026","title":"Mangal Pandey","category":"Historical","points":3,"hints":"Sepoy in the Bengal army who played a key role in the Revolt of 1857"},{"id":"hf027","title":"Indira Gandhi","category":"Historical","points":2,"hints":"Prime Minister of India who delcared the Emergency"},{"id":"hf028","title":"First Battle of Panipat","category":"Historical","points":3,"hints":"War between Babur and Ibrahim Lodi that established Mughal rule in India"},{"id":"hf029","title":"Grand Trunk Road","category":"Historical","points":3,"hints":"Road built by Sher Shah Suri connecting many cities in South Asia"},{"id":"hf030","title":"Gateway of India","category":"Historical","points":1,"hints":"Monument built to commemorate the 1911 visit of King George V and Queen Mary"},{"id":"fd001","title":"Biryani","category":"Food","points":1,"hints":"A fragrant rice dish layered with spiced meat or vegetables"},{"id":"fd002","title":"Butter Chicken","category":"Food","points":1,"hints":"A creamy tomato-based curry best eaten with naan"},{"id":"fd003","title":"Masala Dosa","category":"Food","points":2,"hints":"A fermented rice lentil crepe that's crisp and spicy"},{"id":"fd004","title":"Chole Bhature","category":"Food","points":1,"hints":"A hearty, home-style chickpea curry"},{"id":"fd005","title":"Rajma Chawal","category":"Food","points":1,"hints":"Rice and bean preparation staple in North India"},{"id":"fd006","title":"Pani Puri","category":"Food","points":1,"hints":"Street food called by different names around India"},{"id":"fd007","title":"Vada Pav","category":"Food","points":1,"hints":"Mumbai spiced potato patty tucked into a buttery bun"},{"id":"fd008","title":"Samosa","category":"Food","points":1,"hints":"A crisp pastry triangle stuffed with spiced potatoes"},{"id":"fd009","title":"Tandoori Chicken","category":"Food","points":2,"hints":"Marinated pieces cooked till charred and tender"},{"id":"fd010","title":"Palak Paneer","category":"Food","points":1,"hints":"Silky cottage cheese simmered in a rich, spiced gravy"},{"id":"fd011","title":"Gulab Jamun","category":"Food","points":2,"hints":"Fried milk solids that melt into rose scented syrup"},{"id":"fd012","title":"Jalebi","category":"Food","points":2,"hints":"A deep fried spiral soaked in sugar syrup"},{"id":"fd013","title":"Lassi","category":"Food","points":2,"hints":"A refreshing milk drink that cools the heat and lifts the mood"},{"id":"fd014","title":"Kheer","category":"Food","points":2,"hints":"A festival sweet made from rice"},{"id":"fd015","title":"Dhokla","category":"Food","points":2,"hints":"Gujarati snack that looks like a sponge"},{"id":"fd016","title":"Idli Sambhar","category":"Food","points":2,"hints":"A fluffy, fermented staple paired with lentils"},{"id":"fd017","title":"Paneer 65","category":"Food","points":1,"hints":"Cottage cheese tossed in a lot of spices"},{"id":"fd018","title":"Kulfi","category":"Food","points":1,"hints":"Indian version of ice-cream"},{"id":"fd019","title":"Paratha","category":"Food","points":1,"hints":"Bread that can be stuffed with a number of different things"},{"id":"fd020","title":"Dal Tadka","category":"Food","points":1,"hints":"Yellow lentils with a smoky finish that warms the soul"},{"id":"fd021","title":"Poha","category":"Food","points":2,"hints":"Flattened rice kissed with turmeric and peanuts"},{"id":"fd022","title":"Upma","category":"Food","points":2,"hints":"Savory semolina cooked till soft and spiced just right"},{"id":"fd023","title":"Medu Vada","category":"Food","points":2,"hints":"Crisp golden rings that stay fluffy inside"},{"id":"fd024","title":"Rava Kesari","category":"Food","points":3,"hints":"A saffron tinted dessert that melts like sunshine"},{"id":"fd025","title":"Pongal","category":"Food","points":3,"hints":"Rice and lentils slow cooked till creamy and comforting"},{"id":"fd026","title":"Appam","category":"Food","points":3,"hints":"Soft, lacy pancakes with a hint of coconut"},{"id":"fd027","title":"Puttu","category":"Food","points":4,"hints":"Steamed rice cylinders layered with grated coconut"},{"id":"fd028","title":"Kozhukattai","category":"Food","points":4,"hints":"Sweet steamed dumplings offered to the elephant headed god"},{"id":"fd029","title":"Mysore Pak","category":"Food","points":4,"hints":"Golden fudge that crumbles at the first bite named after a city"},{"id":"fd030","title":"Rasgulla","category":"Food","points":1,"hints":"Soft white spheres soaking in sugar syrup"},{"id":"fd031","title":"5 Star","category":"Food","points":2,"hints":"Chocolate caramel bar that defined 90s snack time"},{"id":"fd032","title":"Mattar Paneer","category":"Food","points":2,"hints":"Cottage cheese and a legume in a mildly spiced tomato gravy"},{"id":"fd033","title":"Chaat","category":"Food","points":1,"hints":"Generic term for a street food staple"},{"id":"fd034","title":"Bisi Belle Bhaat","category":"Food","points":4,"hints":"A South Indian twist on khichdi with bold masala notes"},{"id":"fd035","title":"Mango Bite","category":"Food","points":2,"hints":"Hard candy bursting with tropical fruit nostalgia"},{"id":"fd036","title":"Paan ki Pichkaari","category":"Food","points":4,"hints":"Spitting out betel leaf"},{"id":"tv001","title":"Kyunki Saas Bhi Kabhi Bahu Thi","category":"TV Shows","points":1,"hints":"The daily Ekta Kapoor soap that ruled living rooms for years"},{"id":"tv002","title":"Kaun Banega Crorepati","category":"TV Shows","points":1,"hints":"Where lifelines and one big question could change everything"},{"id":"tv003","title":"Taarak Mehta Ka Ooltah Chashmah","category":"TV Shows","points":1,"hints":"A society full of laughter, quirks, and moral lessons"},{"id":"tv004","title":"CID","category":"TV Shows","points":1,"hints":"Crime never rested, and neither did this iconic team"},{"id":"tv005","title":"The Kapil Sharma Show","category":"TV Shows","points":2,"hints":"Where every celebrity came to laugh at themselves"},{"id":"tv006","title":"Bigg Boss","category":"TV Shows","points":1,"hints":"Locked in a house, watched by millions"},{"id":"tv007","title":"Indian Idol","category":"TV Shows","points":1,"hints":"Dreams, drama and high notes on national TV"},{"id":"tv008","title":"Dance India Dance","category":"TV Shows","points":2,"hints":"Where every move made someone a star"},{"id":"tv009","title":"Roadies","category":"TV Shows","points":3,"hints":"Grit, travel and endless tasks for the fearless"},{"id":"tv010","title":"Splitsvilla","category":"TV Shows","points":3,"hints":"Love, rivalry and drama on a sun-soaked island"},{"id":"tv011","title":"Sarabhai vs Sarabhai","category":"TV Shows","points":2,"hints":"When high society met middle class madness"},{"id":"tv012","title":"Khichdi","category":"TV Shows","points":2,"hints":"Absurd family comedy that became cult classic"},{"id":"tv013","title":"Office Office","category":"TV Shows","points":3,"hints":"A hilarious take on everyday bureaucracy"},{"id":"tv014","title":"Yeh Rishta Kya Kehlata Hai","category":"TV Shows","points":4,"hints":"One of the longest-running family sagas on TV"},{"id":"tv015","title":"Balika Vadhu","category":"TV Shows","points":3,"hints":"A powerful drama that began with child marriage"},{"id":"tv016","title":"Mirzapur","category":"TV Shows","points":3,"hints":"A gun-filled tale of power and revenge from the badlands"},{"id":"tv017","title":"Sacred Games","category":"TV Shows","points":3,"hints":"The show with Saif Ali Khan that redefined Indian streaming"},{"id":"tv018","title":"Scam 1992","category":"TV Shows","points":4,"hints":"The rise and fall of a stock market legend"},{"id":"tv019","title":"Panchayat","category":"TV Shows","points":3,"hints":"A man's quiet journey through village life"},{"id":"tv020","title":"Kota Factory","category":"TV Shows","points":4,"hints":"A black and white look at students chasing big dreams"},{"id":"tv021","title":"Permanent Roommates","category":"TV Shows","points":4,"hints":"A modern love story born from long distance and doubt"},{"id":"tv022","title":"Kahaani Ghar Ghar Ki","category":"TV Shows","points":1,"hints":"An Ekta Kapoor saas-bahu staple"},{"id":"tv023","title":"Kasauti Zindagi Ki","category":"TV Shows","points":1,"hints":"Anurag and Prerna's star crossed saga with Komolika's iconic entries and exits"},{"id":"tv024","title":"Kuch Toh Gadbad Hai","category":"TV Shows","points":2,"hints":"ACP Pradyuman's classic line from CID"},{"id":"tv025","title":"Daya Darwaaza Tod Do","category":"TV Shows","points":2,"hints":"ACP Pradyuman's order to his strongest cop"},{"id":"tv026","title":"Jethalal Champaklal Gada","category":"TV Shows","points":2,"hints":"Gada Electronics' harried owner from Gokuldham, forever in society trouble"},{"id":"ft001","title":"Diwali","category":"Festivals","points":1,"hints":"Festival of light"},{"id":"ft002","title":"Holi","category":"Festivals","points":1,"hints":"Colors flying and grudges forgiven"},{"id":"ft003","title":"Dussehra","category":"Festivals","points":1,"hints":"Burning of Raavan"},{"id":"ft004","title":"Eid ul-Fitr","category":"Festivals","points":2,"hints":"Fasting, feasting, and embraces at moonrise"},{"id":"ft005","title":"Christmas","category":"Festivals","points":1,"hints":"Festival to mark the birth of Baby Jesus"},{"id":"ft006","title":"Ganesh Chaturthi","category":"Festivals","points":1,"hints":"Idols, drums and streets filled with people going to the sea"},{"id":"ft007","title":"Navratri","category":"Festivals","points":2,"hints":"Nine nights of dance and devotion"},{"id":"ft008","title":"Karva Chauth","category":"Festivals","points":2,"hints":"A day of fasting and moonlight love stories"},{"id":"ft009","title":"Raksha Bandhan","category":"Festivals","points":1,"hints":"A sacred thread tying hearts beyond distance"},{"id":"ft010","title":"Janmashtami","category":"Festivals","points":2,"hints":"Midnight songs for the mischievous divine child"},{"id":"ft011","title":"Onam","category":"Festivals","points":4,"hints":"Flower carpets, feasts and a king's yearly homecoming"},{"id":"ft012","title":"Pongal","category":"Festivals","points":4,"hints":"Boiling rice under the sun to thank the harvest"},{"id":"ft013","title":"Baisakhi","category":"Festivals","points":4,"hints":"Fields in bloom and drums that never stop"},{"id":"ft014","title":"Durga Puja","category":"Festivals","points":3,"hints":"Ten days of art, rhythm and divine triumph"},{"id":"ft015","title":"Kumbh Mela","category":"Festivals","points":3,"hints":"Millions gather to bathe where faith meets rivers"},{"id":"ft016","title":"Pushkar Fair","category":"Festivals","points":4,"hints":"Camels, color and the sacred sands of Rajasthan"},{"id":"ft017","title":"Hornbill Festival","category":"Festivals","points":4,"hints":"A tribal carnival celebrating unity in heritage in North East India"},{"id":"ft018","title":"Thrissur Pooram","category":"Festivals","points":4,"hints":"Elephants, fireworks, and Kerala's grandest procession"},{"id":"ft019","title":"Chhath Puja","category":"Festivals","points":4,"hints":"Devotees offer prayers to the setting and rising sun"},{"id":"ft020","title":"Bihu","category":"Festivals","points":4,"hints":"Dance, drums and joy marking Assam's harvest season"},{"id":"ad001","title":"Nirma","category":"Iconic Ads","points":1,"hints":"A detergent ad remembered for the twirling girl in a white frock"},{"id":"ad002","title":"Ramesh Suresh","category":"Iconic Ads","points":4,"hints":"5 Star ad characters"},{"id":"ad003","title":"Santoor","category":"Iconic Ads","points":3,"hints":"A soap ad famous for the young mom reveal"},{"id":"ad004","title":"Vicco Turmeric","category":"Iconic Ads","points":3,"hints":"An ayurvedic jingle the nation can still sing"},{"id":"ad005","title":"Ambuja Cement","category":"Iconic Ads","points":3,"hints":"Walls so strong even jokes couldn't break them"},{"id":"ad006","title":"Vasmol","category":"Iconic Ads","points":4,"hints":"A classic hair dye ad with a melodious promise"},{"id":"ad007","title":"Tide - Chauk Gaye","category":"Iconic Ads","points":1,"hints":"A detergent ad that made brightness a benchmark"},{"id":"ad008","title":"Feviquick","category":"Iconic Ads","points":1,"hints":"Instant glue fixes sold with instant punchlines"},{"id":"ad009","title":"Daag Ache Hai","category":"Iconic Ads","points":2,"hints":"A campaign slogan by Surf Excel"},{"id":"ad010","title":"Dil Maange More","category":"Iconic Ads","points":3,"hints":"A cola catchphrase that became everyday slang"},{"id":"ad011","title":"Kaisi Jeeb Laplapaayi","category":"Iconic Ads","points":2,"hints":"A tongue-twisting jingle for a chewing gum"},{"id":"ad012","title":"MRF ZLX","category":"Iconic Ads","points":2,"hints":"As Virat Kohli said - you can bet on it"},{"id":"ad013","title":"Humara Bajaj","category":"Iconic Ads","points":4,"hints":"A scooter anthem that turned into pure nostalgia"},{"id":"ad014","title":"Lijjat Papad","category":"Iconic Ads","points":4,"hints":"The jingle with a bunny and a crispy crunch"},{"id":"ad015","title":"Amul - The Taste of India","category":"Iconic Ads","points":4,"hints":"Topical wit served on every billboard for decades"},{"id":"ad016","title":"Googly Woogly Woosh","category":"Iconic Ads","points":4,"hints":"Ponds jingle"},{"id":"ad017","title":"Cadbury Dairy Milk - Kuch Khaas Hai","category":"Iconic Ads","points":3,"hints":"The dancing girl on the cricket field made hearts melt"},{"id":"ad018","title":"Asli Masale Sach Sach","category":"Iconic Ads","points":1,"hints":"MDH ad jingle"},{"id":"ad019","title":"Vodafone ZooZoos","category":"Iconic Ads","points":2,"hints":"White, round creatures that made texting cool again"},{"id":"ad020","title":"Happydent","category":"Iconic Ads","points":3,"hints":"Smiles so bright they could light up palaces"},{"id":"ad021","title":"Chaar Boondo Waala","category":"Iconic Ads","points":4,"hints":"Jingle for Ujala detergent"},{"id":"ad022","title":"Jab Ghar Ki Raunak Badhani Ho","category":"Iconic Ads","points":4,"hints":"Nerolal paints ad jingle"},{"id":"ad023","title":"Aaya Mausam Thande Thande","category":"Iconic Ads","points":4,"hints":"Jingle for Dermicool powder"},{"id":"ad024","title":"Dimag Ki Batti Jala De","category":"Iconic Ads","points":2,"hints":"Mentos slogan"},{"id":"ad025","title":"Dar Ke Aage Jeet Hai","category":"Iconic Ads","points":2,"hints":"Mountain Dew slogan"},{"id":"ad026","title":"Clear Hai","category":"Iconic Ads","points":2,"hints":"Sprite slogan"},{"id":"ad027","title":"Taste The Thunder","category":"Iconic Ads","points":1,"hints":"Thums Up slogan"},{"id":"ad028","title":"Nazar Hati Durghatna Ghati","category":"Iconic Ads","points":4,"hints":"Lenskart slogan"},{"id":"ms001","title":"Danish Cookie Box","category":"Misc","points":3,"hints":"A tin that promises biscuits but hides sewing kits"},{"id":"ms002","title":"Aakashvaani","category":"Misc","points":2,"hints":"All India radio station"},{"id":"ms003","title":"Bhidu","category":"Misc","points":3,"hints":"Slang for a close friend said with swagger"},{"id":"ms004","title":"Chomu","category":"Misc","points":4,"hints":"A playful insult for someone a bit slow on the uptake"},{"id":"ms005","title":"Tubelight","category":"Misc","points":2,"hints":"A nickname for the person who gets the joke last"},{"id":"ms006","title":"Marine Drive","category":"Misc","points":1,"hints":"A seaside promenade straight out of postcards"}]`);var S={};const v=I;function L(){const e=new Set(v.map(t=>t.category));return Array.from(e).sort()}function f(e){return v.filter(t=>e.includes(t.category))}function b(){const e=typeof globalThis<"u"&&globalThis.process&&S?S:null;return e&&(e.VITEST||e.NODE_ENV==="test")?1:6}function M(e,t){const a=b();if(e.length<a)return{isValid:!1,message:`At least ${a} categories must be selected.`};const i=f(e);if(i.length<t)return{isValid:!1,message:`Not enough cards available. Selected categories have ${i.length} cards, but ${t} are needed.`,availableCards:i.length};const s=e.length;return t<s?{isValid:!1,message:`Deck size must be at least ${s} to include 1 card from each selected category.`}:{isValid:!0,availableCards:i.length}}class q{constructor(){this.state={config:null,teams:[],playerOrder:[],deck:[],drawPile:[],discardPile:[],round:1,teamOrder:[],currentTeamIndex:0,turnActive:!1,history:[],guessedOnce:new Set,cardSelectionPhase:!1,currentPlayerSelectionIndex:0,currentPlayerCards:[],selectedCards:[],allShownCards:[],playerSelections:{},currentPlayerIndex:0,currentCard:null,timerSeconds:60,timerInterval:null,turnGuessedCards:[],turnSkippedCards:[],turnReshuffledCards:[],teamScores:[[],[]],lastTurnSummary:null},this.listeners=new Set}configure(t){this.state.config=t,this.state.teams=t.teams,this.state.teamOrder=this.state.teams.map(a=>a.id),this.state.currentTeamIndex=0,this.notifyListeners(),console.log("GameStore.configure completed with:",t)}buildDeck(){if(!this.state.config)throw new Error("Game must be configured before building deck");const{categories:t,deckSize:a}=this.state.config,i=M(t,a);if(!i.isValid)throw new Error(i.message);const s=f(t),o=[],n={};t.forEach(c=>{n[c]=s.filter(h=>h.category===c)}),t.forEach(c=>{if(n[c].length>0){const h=n[c][Math.floor(Math.random()*n[c].length)];o.push(h),n[c]=n[c].filter(y=>y.id!==h.id)}});const d={};t.forEach(c=>d[c]=1);const l=Object.values(n).flat();for(;o.length<a&&l.length>0;){const c=Math.floor(Math.random()*l.length),h=l[c];o.push(h),d[h.category]++,l.splice(c,1)}if(o.length<a)throw new Error("Cannot build deck: insufficient cards available");this.state.deck=this.shuffleArray(o),this.state.drawPile=this.state.deck.map(c=>c.id),this.state.discardPile=[],this.notifyListeners(),console.log("Deck built successfully:",{totalCards:this.state.deck.length,categories:t,cardsPerCategory:d})}generatePlayerOrder(){if(!this.state.teams||this.state.teams.length!==2)throw new Error("Teams must be configured before generating player order");const t=[...this.state.teams[0].players],a=[...this.state.teams[1].players],i=this.shuffleArray(t),s=this.shuffleArray(a),o=[],n=Math.max(i.length,s.length);for(let d=0;d<n;d++)d<i.length&&o.push(i[d]),d<s.length&&o.push(s[d]);this.state.playerOrder=o,this.notifyListeners(),console.log("Player order generated:",o)}startCardSelection(){if(!this.state.config)throw new Error("Game must be configured before starting card selection");if(!this.state.playerOrder||this.state.playerOrder.length===0)throw new Error("Player order must be generated before starting card selection");this.state.cardSelectionPhase=!0,this.state.currentPlayerSelectionIndex=0,this.state.selectedCards=[],this.state.allShownCards=[],this.state.playerSelections={},this.generateCardsForPlayer(),this.notifyListeners(),console.log("Card selection phase started")}generateCardsForPlayer(){const{categories:t}=this.state.config,a=f(t),i=new Set(this.state.allShownCards.map(n=>n.id)),s=a.filter(n=>!i.has(n.id));if(s.length<16)throw new Error("Not enough unused cards available for selection");const o=this.shuffleArray([...s]);this.state.currentPlayerCards=o.slice(0,16),this.state.allShownCards.push(...this.state.currentPlayerCards),this.notifyListeners(),console.log(`Generated 16 cards for player: ${this.getCurrentPlayerName()}`)}getCurrentPlayerName(){return this.state.cardSelectionPhase?this.state.playerOrder[this.state.currentPlayerSelectionIndex]:this.state.playerOrder[this.state.currentPlayerIndex]}selectCards(t){if(!this.state.cardSelectionPhase)throw new Error("Not in card selection phase");if(t.length!==8)throw new Error("Player must select exactly 8 cards");const a=new Set(this.state.currentPlayerCards.map(o=>o.id));if(t.filter(o=>!a.has(o.id)).length>0)throw new Error("Selected cards must be from the current player's options");const s=this.getCurrentPlayerName();this.state.playerSelections[s]=t,this.state.selectedCards.push(...t),console.log(`Player ${s} selected 8 cards`),this.state.currentPlayerSelectionIndex++,this.state.currentPlayerSelectionIndex>=this.state.playerOrder.length?this.finishCardSelection():this.generateCardsForPlayer(),this.notifyListeners()}finishCardSelection(){this.state.cardSelectionPhase=!1,this.state.deck=[...this.state.selectedCards],this.state.drawPile=this.state.deck.map(t=>t.id),this.state.discardPile=[],this.state.currentPlayerCards=[],this.state.allShownCards=[],this.state.currentPlayerSelectionIndex=0,this.notifyListeners(),console.log(`Card selection completed. Final deck has ${this.state.deck.length} cards`),console.log("Player selections:",this.state.playerSelections)}shuffleArray(t){for(let a=t.length-1;a>0;a--){const i=Math.floor(Math.random()*(a+1));[t[a],t[i]]=[t[i],t[a]]}return t}startRound(t){if(t<1||t>3)throw new Error("Round number must be 1, 2, or 3");this.state.round=t,this.state.turnActive=!1,this.state.currentCard=null,this.state.drawPile=this.state.deck.map(a=>a.id),this.state.discardPile=[],this.state.teams.forEach((a,i)=>{this.state.teamScores[i]||(this.state.teamScores[i]=[]),this.state.teamScores[i][t-1]||(this.state.teamScores[i][t-1]=0)}),this.notifyListeners(),console.log(`Round ${t} started`)}startTurn(){var t;if(this.state.turnActive)throw new Error("A turn is already active");if(this.state.drawPile.length===0)throw new Error("No cards left in draw pile");this.state.turnActive=!0,this.state.timerSeconds=((t=this.state.config)==null?void 0:t.timerSeconds)||60,this.state.turnGuessedCards=[],this.state.turnSkippedCards=[],this.state.turnReshuffledCards=[],this.state.lastTurnSummary=null,this.drawCard(),this.startTimer(),this.notifyListeners(),console.log(`Turn started for player: ${this.getCurrentPlayerName()}`)}endTurn(){var d;if(!this.state.turnActive)throw new Error("No active turn to end");this.stopTimer();const t=this.getCurrentPlayerName(),a=this.getTeamForPlayer(t),i={player:t,teamId:a.id,round:this.state.round,guessedCardIds:this.state.turnGuessedCards.map(l=>l.id),skippedCardIds:this.state.turnSkippedCards.map(l=>l.id),durationSec:Math.max(1,(((d=this.state.config)==null?void 0:d.timerSeconds)||60)-this.state.timerSeconds),timestamp:Date.now()};this.state.history.push(i);const s=this.state.turnGuessedCards.reduce((l,c)=>l+c.points,0),o=this.state.teams.findIndex(l=>l.id===a.id);if(o===-1)throw new Error(`Team not found for player ${t}. Team ID: ${a.id}`);this.state.teamScores[o]||(this.state.teamScores[o]=[]),this.state.teamScores[o][this.state.round-1]===void 0&&(this.state.teamScores[o][this.state.round-1]=0),this.state.teamScores[o][this.state.round-1]+=s,this.state.turnGuessedCards.forEach(l=>{this.state.guessedOnce.add(l.id)}),this.state.lastTurnSummary={playerName:t,teamName:a.name,guessedCount:this.state.turnGuessedCards.length,skippedCount:this.state.turnSkippedCards.length,points:s,guessedCards:[...this.state.turnGuessedCards],skippedCards:[...this.state.turnSkippedCards]};const n=[];if(this.state.turnSkippedCards.length>0&&n.push(...this.state.turnSkippedCards.map(l=>l.id)),this.state.currentCard&&n.push(this.state.currentCard.id),n.length>0){const l=n.filter(c=>!this.state.drawPile.includes(c));l.forEach(c=>{const h=Math.floor(Math.random()*(this.state.drawPile.length+1));this.state.drawPile.splice(h,0,c)}),l.length>0&&console.log(`Returned ${l.length} skipped cards to draw pile for future turns`)}this.state.turnActive=!1,this.state.currentCard=null,this.state.turnGuessedCards=[],this.state.turnSkippedCards=[],this.state.turnReshuffledCards=[],this.nextPlayer(),this.notifyListeners(),console.log(`Turn ended for player: ${t}, points earned: ${s}`)}guessCurrent(){if(!this.state.turnActive)throw new Error("No active turn");if(!this.state.currentCard)throw new Error("No current card to guess");this.state.turnGuessedCards.push(this.state.currentCard),console.log(`Card guessed: ${this.state.currentCard.title}`),this.state.timerSeconds>0?this.drawCard():this.state.currentCard=null,this.notifyListeners()}skipCurrent(){if(!this.state.turnActive)throw new Error("No active turn");if(!this.state.currentCard)throw new Error("No current card to skip");this.state.turnSkippedCards.push(this.state.currentCard),console.log(`Card skipped: ${this.state.currentCard.title}`),this.state.currentCard=null,this.drawCard(),this.notifyListeners()}nextTeam(){console.log("GameStore.nextTeam called")}nextPlayer(){this.state.currentPlayerIndex=(this.state.currentPlayerIndex+1)%this.state.playerOrder.length}getTeamForPlayer(t){return this.state.teams.find(a=>a.players.includes(t))}drawCard(){if(this.state.drawPile.length===0&&this.state.turnSkippedCards.length>0){const a=[...this.state.turnSkippedCards],i=a.map(s=>s.id);this.state.turnReshuffledCards.push(...a);for(let s=i.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[i[s],i[o]]=[i[o],i[s]]}this.state.drawPile.push(...i),this.state.turnSkippedCards=[],console.log(`Reshuffled ${i.length} cards back into draw pile`)}if(this.state.drawPile.length===0){this.state.currentCard=null;return}const t=this.state.drawPile.shift();this.state.currentCard=this.state.deck.find(a=>a.id===t)}startTimer(){this.stopTimer(),this.state.timerInterval=setInterval(()=>{this.state.timerSeconds--,this.state.timerSeconds<=0&&this.stopTimer(),this.notifyListeners()},1e3)}stopTimer(){this.state.timerInterval&&(clearInterval(this.state.timerInterval),this.state.timerInterval=null)}resetTimer(){var t;this.stopTimer(),this.state.timerSeconds=((t=this.state.config)==null?void 0:t.timerSeconds)||60,this.notifyListeners()}isRoundComplete(){return this.state.guessedOnce.size===this.state.deck.length}tallyRound(){const t=[0,0],a=this.state.history.filter(i=>i.round===this.state.round);for(const i of a){const s=i.player,o=this.getTeamForPlayer(s);if(!o){console.warn(`Could not find team for player: ${s}`);continue}const n=this.state.teams.findIndex(l=>l.id===o.id);if(n===-1){console.warn(`Could not find team index for team: ${o.id}`);continue}const d=i.guessedCardIds.reduce((l,c)=>{const h=this.state.deck.find(y=>y.id===c);return l+(h?h.points:0)},0);t[n]+=d}this.state.teams.forEach((i,s)=>{this.state.teamScores[s]||(this.state.teamScores[s]=[]),this.state.teamScores[s][this.state.round-1]=t[s]}),console.log(`Round ${this.state.round} tallied - Team scores: ${t.join(", ")}`),this.notifyListeners()}nextRound(){return this.state.round>=3?(console.log("Game complete - all rounds finished"),!1):(this.tallyRound(),this.state.turnGuessedCards=[],this.state.turnSkippedCards=[],this.state.turnActive=!1,this.state.currentCard=null,this.state.guessedOnce.clear(),this.startRound(this.state.round+1),console.log(`Advanced to Round ${this.state.round}`),!0)}reset(){this.stopTimer(),this.state={config:null,teams:[],playerOrder:[],deck:[],drawPile:[],discardPile:[],round:1,teamOrder:[],currentTeamIndex:0,turnActive:!1,history:[],guessedOnce:new Set,cardSelectionPhase:!1,currentPlayerSelectionIndex:0,currentPlayerCards:[],selectedCards:[],allShownCards:[],playerSelections:{},currentPlayerIndex:0,currentCard:null,timerSeconds:60,timerInterval:null,turnGuessedCards:[],turnSkippedCards:[],turnReshuffledCards:[],teamScores:[[],[]]},this.notifyListeners(),console.log("GameStore.reset called")}getState(){return this.state}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}notifyListeners(){this.listeners.forEach(t=>{try{t(this.state)}catch(a){console.error("Error in state listener:",a)}})}}const r=new q,E="72c0828d86f7867e9f4abfa21fd1d40a3a736d2db8edbc624daaf5548e2cc2d1";async function G(e){const t=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function R(e){try{return await G(e)===E}catch(t){return console.error("Password validation error:",t),!1}}function x(){return sessionStorage.getItem("chhota-pandit-auth")==="true"}function C(e){e?sessionStorage.setItem("chhota-pandit-auth","true"):sessionStorage.removeItem("chhota-pandit-auth")}function F(){C(!1),location.reload()}let g=!1;document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#app");e&&(x()?k(e):H(e)),console.log("Chhota Pandit app initialized")});function H(e){e.innerHTML=`
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <h1>Chhota Pandit</h1>
          <p>Enter password to access the game</p>
        </div>

        <form id="loginForm" class="login-form">
          <div class="password-group">
            <input
              type="password"
              id="passwordInput"
              placeholder="Enter password"
              required
              autocomplete="off"
            >
          </div>

          <button type="submit" class="login-button">
            Access Game
          </button>

          <div id="loginError" class="login-error hidden">
            Incorrect password. Please try again.
          </div>
        </form>
      </div>
    </div>
  `,V()}function k(e){e.innerHTML=`
      <header>
        <h1>Chhota Pandit</h1>
        <p>Party Word-Guessing Game</p>
        <button type="button" id="logoutBtn" class="logout-btn">Logout</button>
      </header>

      <main>
        <!-- Setup View -->
        <section id="setupView" class="view">
          <h2>Game Setup</h2>

          <div class="setup-section">
            <h3>Team 1</h3>
            <div class="team-config">
              <div class="team-name">
                <label for="team1Name">Team Name:</label>
                <input type="text" id="team1Name" placeholder="Enter team 1 name" required>
              </div>
              <div class="team-players">
                <label>Players (3-6 required):</label>
                <div id="team1Players">
                  <input type="text" placeholder="Player 1 name" class="player-input" required>
                  <input type="text" placeholder="Player 2 name" class="player-input" required>
                  <input type="text" placeholder="Player 3 name" class="player-input" required>
                </div>
                <div class="player-controls">
                  <button type="button" class="add-player-btn" data-team="1">Add Player</button>
                  <button type="button" class="remove-player-btn" data-team="1">Remove Player</button>
                </div>
              </div>
            </div>
          </div>

          <div class="setup-section">
            <h3>Team 2</h3>
            <div class="team-config">
              <div class="team-name">
                <label for="team2Name">Team Name:</label>
                <input type="text" id="team2Name" placeholder="Enter team 2 name" required>
              </div>
              <div class="team-players">
                <label>Players (3-6 required):</label>
                <div id="team2Players">
                  <input type="text" placeholder="Player 1 name" class="player-input" required>
                  <input type="text" placeholder="Player 2 name" class="player-input" required>
                  <input type="text" placeholder="Player 3 name" class="player-input" required>
                </div>
                <div class="player-controls">
                  <button type="button" class="add-player-btn" data-team="2">Add Player</button>
                  <button type="button" class="remove-player-btn" data-team="2">Remove Player</button>
                </div>
              </div>
            </div>
          </div>

          <div class="setup-section">
            <h3>Categories</h3>
            <div id="categoryTiles" class="category-tiles">
              <div class="category-loading">Loading categories...</div>
            </div>
            <small>Select multiple categories for variety</small>
          </div>

          <div class="setup-section">
            <h3>Game Info</h3>
            <div class="game-info-display">
              <div class="info-item">
                <strong>Timer:</strong> 60 seconds per turn
              </div>
              <div class="info-item">
                <strong>Deck Size:</strong> <span id="deckSizeDisplay">Calculated based on players</span>
              </div>
              <div class="info-item">
                <strong>Cards per Player:</strong> 16 dealt, keep 8
              </div>
            </div>
          </div>

          <div id="setupValidation" class="validation-message hidden"></div>

          <!-- Quick Test Button (for development) -->
          <div class="quick-test-section">
            <button type="button" id="quickTestBtn" class="secondary-btn"> Quick Test (Skip to Gameplay)</button>
            <p style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">
              Creates default teams and automatically selects cards for quick testing
            </p>
          </div>

          <button type="button" id="startGameBtn" class="primary-btn">Start Game</button>
        </section>

        <!-- Card Selection View -->
        <section id="cardSelectionView" class="view hidden">
          <h2>Card Selection</h2>

          <div class="selection-info">
            <h3>Current Player: <span id="currentPlayerName">Player</span></h3>
            <p>Select <strong>8 cards</strong> from the 16 cards below to include in the game.</p>
            <div class="selection-progress">
              <span id="selectionCount">0</span> / 8 cards selected
            </div>
          </div>

          <div id="cardGrid" class="card-grid">
            <!-- Cards will be populated here -->
          </div>

          <div class="selection-controls">
            <button type="button" id="confirmSelectionBtn" class="primary-btn" disabled>
              Confirm Selection
            </button>
            <button type="button" id="clearSelectionBtn" class="secondary-btn">
              Clear Selection
            </button>
          </div>

          <div class="selection-status">
            <div id="playersCompleted"></div>
          </div>
        </section>

        <!-- Game View -->
        <section id="gameView" class="view hidden">
          <h2>Round <span id="currentRound">1</span></h2>

          <div class="round-rules">
            <div id="roundHints" class="round-hints">
              <strong>Say Anything:</strong> Use any words or phrases to describe the card.
            </div>
          </div>

          <div class="game-info">
            <div class="current-player">
              <h3>Current Player: <span id="currentPlayerName">Player 1</span></h3>
              <div class="current-team">Team: <span id="currentTeamName">Team 1</span></div>
            </div>

            <div class="timer-display">
              <span id="timerDisplay">01:00</span>
            </div>
          </div>

          <!-- Pre-turn state -->
          <div id="preTurnState" class="pre-turn">
            <div class="turn-message">
              <h3>Ready to start your turn?</h3>
              <p>You have 60 seconds to get your team to guess as many cards as possible!</p>
            </div>
            <button type="button" id="startTurnBtn" class="primary-btn">Start Turn</button>
          </div>

          <!-- Active turn state -->
          <div id="activeTurnState" class="active-turn hidden">
            <div class="card-area">
              <div id="currentCardDisplay" class="card game-card">
                <div class="card-content">
                  <h3 id="cardTitle">Card will appear here</h3>
                  <div id="cardHints" class="card-hints"></div>
                  <div id="cardMeta" class="card-meta">
                    <span id="cardCategory" class="category"></span>
                    <span id="cardPoints" class="points"></span>
                  </div>
                </div>
              </div>
            </div>

            <div class="game-controls">
              <button type="button" id="guessedBtn" class="success-btn" disabled>Guessed! </button>
              <button type="button" id="skipBtn" class="neutral-btn" disabled>Skip</button>
            </div>

            <div class="turn-stats">
              <div class="stat">
                <span class="stat-label">Guessed:</span>
                <span id="guessedCount">0</span>
              </div>
              <div class="stat">
                <span class="stat-label">Skipped:</span>
                <span id="skippedCount">0</span>
              </div>
              <div class="stat">
                <span class="stat-label">Points this turn:</span>
                <span id="turnPoints">0</span>
              </div>
            </div>
          </div>

          <!-- Post-turn state -->
          <div id="postTurnState" class="post-turn hidden">
            <div class="turn-summary">
              <h3>Turn Complete!</h3>
              <div class="final-stats">
                <div>Cards guessed: <span id="finalGuessedCount">0</span></div>
                <div>Cards skipped: <span id="finalSkippedCount">0</span></div>
                <div>Points earned: <span id="finalTurnPoints">0</span></div>
              </div>
            </div>
            <button type="button" id="nextPlayerBtn" class="primary-btn">Next Player</button>
          </div>

          <!-- Live Scoreboard -->
          <div class="live-scoreboard">
            <h4>Live Scores</h4>
            <div id="liveScores" class="score-display">
              <!-- Dynamic score content -->
            </div>
          </div>

        </section>

        <!-- Score View -->
        <section id="scoreView" class="view hidden">
          <h2>Scoreboard</h2>

          <div class="score-tables">
            <div class="round-scores">
              <h3>Round Scores</h3>
              <table id="roundScoresTable">
                <thead>
                  <tr>
                    <th>Team</th>
                    <th>Round 1</th>
                    <th>Round 2</th>
                    <th>Round 3</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Team 1</td>
                    <td>0</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                  <tr>
                    <td>Team 2</td>
                    <td>0</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="total-scores">
              <h3>Total Scores</h3>
              <table id="totalScoresTable">
                <thead>
                  <tr>
                    <th>Team</th>
                    <th>Total Points</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Team 1</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>Team 2</td>
                    <td>0</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </main>

      <footer>
        <p>Chhota Pandit - A party word-guessing game</p>
      </footer>

      <!-- Modal Container -->
      <div id="modalContainer" class="modal hidden">
        <div class="modal-content">
          <h3 id="modalTitle">Modal Title</h3>
          <p id="modalMessage">Modal message content</p>
          <div class="modal-actions">
            <button type="button" id="modalConfirm" class="primary-btn">OK</button>
            <button type="button" id="modalCancel" class="secondary-btn">Cancel</button>
          </div>
        </div>
      </div>
    `,N()}function N(){console.log("Chhota Pandit app initialized with layout"),console.log("Initial GameStore state:",r.getState()),D(),m(),$(),dt(),mt(),r.subscribe(t=>{const a=document.querySelector("#gameView");a&&!a.classList.contains("hidden")&&(p(),t.turnActive&&t.timerSeconds===0&&!g&&(g=!0,Y()),t.turnActive||(g=!1))});const e=document.querySelector("#logoutBtn");e&&e.addEventListener("click",F)}function V(){const e=document.querySelector("#loginForm"),t=document.querySelector("#passwordInput"),a=document.querySelector("#loginError");e.addEventListener("submit",async i=>{i.preventDefault();const s=t.value.trim();if(!s)return;const o=e.querySelector('button[type="submit"]'),n=o.textContent;o.textContent="Checking...",o.disabled=!0;try{if(await R(s)){C(!0);const l=document.querySelector("#app");k(l)}else a.classList.remove("hidden"),t.value="",t.focus(),setTimeout(()=>{a.classList.add("hidden")},3e3)}catch(d){console.error("Login error:",d),a.textContent="An error occurred. Please try again.",a.classList.remove("hidden")}finally{o.textContent=n,o.disabled=!1}}),t.focus()}function D(){document.querySelectorAll(".add-player-btn").forEach(e=>{e.addEventListener("click",t=>{const a=t.target.dataset.team;j(a)})}),document.querySelectorAll(".remove-player-btn").forEach(e=>{e.addEventListener("click",t=>{const a=t.target.dataset.team;K(a)})}),document.addEventListener("input",e=>{e.target.classList.contains("player-input")&&m()})}function j(e){const t=document.querySelector(`#team${e}Players`),a=t.querySelectorAll(".player-input");if(a.length<6){const i=document.createElement("input");i.type="text",i.placeholder=`Player ${a.length+1} name`,i.className="player-input",i.required=!0,t.appendChild(i),m()}}function K(e){const t=document.querySelector(`#team${e}Players`),a=t.querySelectorAll(".player-input");a.length>3&&(t.removeChild(a[a.length-1]),m())}function m(){const e=document.querySelectorAll("#team1Players .player-input").length,t=document.querySelectorAll("#team2Players .player-input").length,a=e+t,i=a*8,s=document.querySelector("#deckSizeDisplay");s&&(s.textContent=`${i} cards (${a} players  8 cards each)`);const o=document.querySelector("#setupValidation");Math.abs(e-t)>1?(o.textContent=`Team sizes must be within 1 player of each other. Current: Team 1 (${e}), Team 2 (${t})`,o.classList.remove("hidden"),o.classList.add("error")):(o.classList.add("hidden"),o.classList.remove("error"))}function $(){const e=document.querySelector("#startGameBtn"),t=document.querySelector("#quickTestBtn"),a=document.querySelector("#startTurnBtn"),i=document.querySelector("#guessedBtn"),s=document.querySelector("#skipBtn"),o=document.querySelector("#nextPlayerBtn");e&&e.addEventListener("click",_),t&&t.addEventListener("click",yt),a&&a.addEventListener("click",O),i&&i.addEventListener("click",z),s&&s.addEventListener("click",W),o&&o.addEventListener("click",J)}function O(){try{r.startTurn()}catch(e){console.error("Error starting turn:",e),alert(e.message)}}function z(){try{r.guessCurrent()}catch(e){console.error("Error marking card as guessed:",e),alert(e.message)}}function W(){try{r.skipCurrent()}catch(e){console.error("Error skipping card:",e),alert(e.message)}}function J(){try{r.getState().turnActive&&r.endTurn(),r.resetTimer();const t=r.getState();if(r.isRoundComplete())if(console.log(`Round ${t.round} complete!`),t.round<3){if(r.nextRound()){const i=r.getState();U(i.round)}}else r.tallyRound(),Q();else p()}catch(e){console.error("Error handling next player:",e),alert(e.message)}}function U(e){const t={1:"Say Anything",2:"One Word Only",3:"Actions Only"},a={1:"Use any words or phrases to describe the card.",2:"You can only say ONE WORD per card. No gestures, sounds, or additional words!",3:"No words allowed! Use only gestures and actions to act out the card."};A(`Round ${e}: ${t[e]}`,`${a[e]}

All cards are back in play. Ready to start Round ${e}?`,"Start Round",()=>{p()})}function Q(){const e=r.getState(),t=e.teamScores[0].reduce((o,n)=>o+(n||0),0),a=e.teamScores[1].reduce((o,n)=>o+(n||0),0),i=t>a?e.teams[0].name:a>t?e.teams[1].name:"Tie",s=i==="Tie"?`Game Complete!

It's a tie! Both teams scored ${t} points.`:`Game Complete!

${i} wins with ${Math.max(t,a)} points!`;A("Game Complete!",s,"View Final Scores",()=>{document.querySelector("#gameView").classList.add("hidden"),document.querySelector("#scoreView").classList.remove("hidden"),rt()})}function A(e,t,a,i){const s=document.createElement("div");s.className="modal-backdrop";const o=document.createElement("div");o.className="modal-content",o.innerHTML=`
    <h3>${e}</h3>
    <p>${t}</p>
    <div class="modal-actions">
      <button class="primary-btn modal-confirm-btn">${a}</button>
    </div>
  `,s.appendChild(o),document.body.appendChild(s),o.querySelector(".modal-confirm-btn").addEventListener("click",()=>{document.body.removeChild(s),i&&i()}),s.addEventListener("click",d=>{d.target===s&&(document.body.removeChild(s),i&&i())})}function Y(){const e=r.getState();e.turnActive&&(console.log("Timer expired - handling last card"),e.currentCard&&(confirm(`Time's up! Was the last card "${e.currentCard.title}" guessed correctly?

Click OK if YES, Cancel if NO.`)?r.guessCurrent():r.skipCurrent()),r.endTurn(),console.log("Turn ended due to timer expiration"))}function _(){const e=Z(),t=document.querySelector("#setupValidation");if(!e.isValid){t.textContent=e.message,t.classList.remove("hidden"),t.classList.add("error");return}t.classList.add("hidden"),t.classList.remove("error");const a=X(),i=P(),s=b();if(i.length<s){t.textContent=`Please select at least ${s} categories.`,t.classList.remove("hidden"),t.classList.add("error");return}const o={teamNames:a.map(n=>n.name),teams:a,categories:i,deckSize:a.flatMap(n=>n.players).length*8,timerSeconds:60};r.configure(o);try{r.buildDeck()}catch(n){t.textContent=n.message,t.classList.remove("hidden"),t.classList.add("error");return}r.generatePlayerOrder(),console.log("Game started with player order:",r.getState().playerOrder),r.startCardSelection(),document.querySelector("#setupView").classList.add("hidden"),document.querySelector("#cardSelectionView").classList.remove("hidden"),T()}function Z(){const e=document.querySelector("#team1Name").value.trim(),t=document.querySelector("#team2Name").value.trim();if(!e||!t)return{isValid:!1,message:"Both team names are required."};const a=Array.from(document.querySelectorAll("#team1Players .player-input")).map(d=>d.value.trim()).filter(d=>d!==""),i=Array.from(document.querySelectorAll("#team2Players .player-input")).map(d=>d.value.trim()).filter(d=>d!=="");if(a.length<3||i.length<3)return{isValid:!1,message:"Each team must have at least 3 players."};if(a.length>6||i.length>6)return{isValid:!1,message:"Each team can have at most 6 players."};if(Math.abs(a.length-i.length)>1)return{isValid:!1,message:"Team sizes must be within 1 player of each other."};const o=[...a,...i],n=new Set(o);return o.length!==n.size?{isValid:!1,message:"All player names must be unique."}:{isValid:!0}}function X(){const e=document.querySelector("#team1Name").value.trim(),t=document.querySelector("#team2Name").value.trim(),a=Array.from(document.querySelectorAll("#team1Players .player-input")).map(s=>s.value.trim()).filter(s=>s!==""),i=Array.from(document.querySelectorAll("#team2Players .player-input")).map(s=>s.value.trim()).filter(s=>s!=="");return[{id:"team1",name:e,players:a},{id:"team2",name:t,players:i}]}function tt(){const e=r.getState();!e.turnActive&&e.round===1&&e.drawPile.length===0&&r.startRound(1),p()}function p(){const e=r.getState(),t=document.querySelector("#currentRound");t&&(t.textContent=e.round);const a=document.querySelector("#roundHints");if(a){const d={1:"<strong>Say Anything:</strong> Use any words or phrases to describe the card.",2:"<strong>One Word Only:</strong> You can only say ONE WORD per card. No gestures!",3:"<strong>Actions Only:</strong> No words allowed! Use only gestures and actions."};a.innerHTML=d[e.round]||d[1]}const i=e.playerOrder[e.currentPlayerIndex],s=r.getTeamForPlayer(i);document.querySelectorAll("#currentPlayerName").forEach(d=>{d&&(d.textContent=i)});const n=document.querySelector("#currentTeamName");n&&(n.textContent=s?s.name:"Unknown"),et(),at(),it(),st(),nt()}function et(){const e=r.getState(),t=document.querySelector("#timerDisplay");if(t){const a=Math.floor(e.timerSeconds/60),i=e.timerSeconds%60;t.textContent=`${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`,e.timerSeconds<=10&&e.turnActive?t.classList.add("warning"):t.classList.remove("warning")}}function at(){const e=r.getState(),t=document.querySelector("#preTurnState"),a=document.querySelector("#activeTurnState"),i=document.querySelector("#postTurnState");if(t==null||t.classList.add("hidden"),a==null||a.classList.add("hidden"),i==null||i.classList.add("hidden"),!e.turnActive&&e.timerSeconds>0)t==null||t.classList.remove("hidden");else if(e.turnActive){a==null||a.classList.remove("hidden");const s=document.querySelector("#guessedBtn"),o=document.querySelector("#skipBtn");if(s&&o){const n=e.currentCard!==null;s.disabled=!n,o.disabled=!n}}else e.timerSeconds===0&&(i==null||i.classList.remove("hidden"),ot())}function it(){const t=r.getState().currentCard,a=document.querySelector("#cardTitle"),i=document.querySelector("#cardHints"),s=document.querySelector("#cardCategory"),o=document.querySelector("#cardPoints");t?(a&&(a.textContent=t.title),i&&(i.textContent=t.hints||""),s&&(s.textContent=t.category),o&&(o.textContent=`${t.points} pts`)):(a&&(a.textContent="No more cards"),i&&(i.textContent=""),s&&(s.textContent=""),o&&(o.textContent=""))}function st(){const e=r.getState(),t=document.querySelector("#guessedCount"),a=document.querySelector("#skippedCount"),i=document.querySelector("#turnPoints");if(t&&(t.textContent=e.turnGuessedCards.length),a&&(a.textContent=e.turnSkippedCards.length),i){const s=e.turnGuessedCards.reduce((o,n)=>o+n.points,0);i.textContent=s}}function ot(){const e=r.getState(),t=document.querySelector("#finalGuessedCount"),a=document.querySelector("#finalSkippedCount"),i=document.querySelector("#finalTurnPoints"),s=e.lastTurnSummary;if(s)t&&(t.textContent=s.guessedCount),a&&(a.textContent=s.skippedCount),i&&(i.textContent=s.points);else if(t&&(t.textContent=e.turnGuessedCards.length),a&&(a.textContent=e.turnSkippedCards.length),i){const o=e.turnGuessedCards.reduce((n,d)=>n+d.points,0);i.textContent=o}}function nt(){const e=r.getState(),t=document.querySelector("#liveScores");if(!t||!e.teams.length)return;const a=e.teams.map((i,s)=>{const o=e.teamScores[s]||[],n=o[e.round-1]||0,d=o.reduce((l,c)=>l+(c||0),0);return`
      <div class="team-score">
        <div class="team-name">${i.name}</div>
        <div class="score-details">
          <span class="round-score">Round ${e.round}: ${n}</span>
          <span class="total-score">Total: ${d}</span>
        </div>
      </div>
    `}).join("");t.innerHTML=a}function rt(){const e=r.getState(),t=document.querySelector("#roundScoresTable tbody");if(t&&e.teams.length>0){const i=e.teams.map((s,o)=>{const n=e.teamScores[o]||[];return`
        <tr>
          <td>${s.name}</td>
          <td>${n[0]||"-"}</td>
          <td>${n[1]||"-"}</td>
          <td>${n[2]||"-"}</td>
        </tr>
      `}).join("");t.innerHTML=i}const a=document.querySelector("#totalScoresTable tbody");if(a&&e.teams.length>0){const i=e.teams.map((s,o)=>{const d=(e.teamScores[o]||[]).reduce((l,c)=>l+(c||0),0);return`
        <tr>
          <td>${s.name}</td>
          <td>${d}</td>
        </tr>
      `}).join("");a.innerHTML=i}}function dt(){const e=document.querySelector("#categoryTiles");if(e){const t=L();e.innerHTML="";const a={Bollywood:"",Sports:"",Movies:"",Music:"",History:"",Science:"",Technology:"",Food:"",Travel:"",Art:""};t.forEach(i=>{const s=document.createElement("div");s.className="category-tile",s.dataset.category=i,s.innerHTML=`
        <div class="category-icon">${a[i]||""}</div>
        <div class="category-name">${i}</div>
      `,s.addEventListener("click",()=>{s.classList.toggle("selected")}),e.appendChild(s)}),console.log("Categories populated:",t)}}function P(){const e=document.querySelector("#categoryTiles");if(!e)return[];const t=e.querySelectorAll(".category-tile.selected");return Array.from(t).map(a=>a.dataset.category)}function T(){const e=r.getState(),t=document.querySelector("#currentPlayerName");t&&(t.textContent=e.playerOrder[e.currentPlayerSelectionIndex]),w(),lt(e.currentPlayerCards),ht(),console.log(`Card selection view updated for: ${e.playerOrder[e.currentPlayerSelectionIndex]}`)}function lt(e){const t=document.querySelector("#cardGrid");t&&(t.innerHTML="",e.forEach(a=>{const i=document.createElement("div");i.className="selection-card",i.dataset.cardId=a.id,i.innerHTML=`
      <div class="card-content">
        <h4>${a.title}</h4>
        ${a.hints?`<div class="card-hints">${a.hints}</div>`:""}
        <div class="card-meta">
          <span class="category">${a.category}</span>
          <span class="points">${a.points} pts</span>
        </div>
      </div>
      <div class="card-selection-indicator"></div>
    `,i.addEventListener("click",()=>ct(a.id)),t.appendChild(i)}))}const u=new Set;function ct(e){const t=document.querySelector(`[data-card-id="${e}"]`);t&&(u.has(e)?(u.delete(e),t.classList.remove("selected")):u.size<8&&(u.add(e),t.classList.add("selected")),w(),B())}function w(){const e=document.querySelector("#selectionCount");e&&(e.textContent=u.size)}function B(){const e=document.querySelector("#confirmSelectionBtn");e&&(e.disabled=u.size!==8)}function ht(){const e=r.getState(),t=document.querySelector("#playersCompleted");if(!t)return;const a=Object.keys(e.playerSelections).length,i=e.playerOrder.length;t.innerHTML=`
    <h4>Progress: ${a}/${i} players completed</h4>
    ${Object.keys(e.playerSelections).map(s=>`<div class="completed-player"> ${s}</div>`).join("")}
  `}function ut(){const t=r.getState().currentPlayerCards.filter(a=>u.has(a.id));try{r.selectCards(t),u.clear(),r.getState().cardSelectionPhase?T():(document.querySelector("#cardSelectionView").classList.add("hidden"),document.querySelector("#gameView").classList.remove("hidden"),tt())}catch(a){console.error("Error confirming selection:",a),alert(a.message)}}function pt(){u.clear(),document.querySelectorAll(".selection-card.selected").forEach(e=>{e.classList.remove("selected")}),w(),B()}function mt(){const e=document.querySelector("#confirmSelectionBtn"),t=document.querySelector("#clearSelectionBtn");e&&e.addEventListener("click",ut),t&&t.addEventListener("click",pt)}function yt(){console.log("Quick test mode activated!"),document.querySelector("#team1Name").value="Team A",document.querySelector("#team2Name").value="Team B";const e=document.querySelectorAll("#team1Players .player-input"),t=document.querySelectorAll("#team2Players .player-input");e.length>=3&&(e[0].value="P1",e[1].value="P2",e[2].value="P3"),t.length>=3&&(t[0].value="P4",t[1].value="P5",t[2].value="P6");const a=document.querySelector("#categoryTiles");a&&a.querySelectorAll(".category-tile").forEach(n=>{n.classList.add("selected")});const i=P();if(i.length===0){alert("No categories available for quick test");return}const s={teamNames:["Team A","Team B"],teams:[{id:"team1",name:"Team A",players:["P1","P2","P3"]},{id:"team2",name:"Team B",players:["P4","P5","P6"]}],categories:i,deckSize:48,timerSeconds:60};try{r.configure(s),r.generatePlayerOrder(),r.buildDeck(),r.startCardSelection(),r.getState().playerOrder.forEach(()=>{const l=r.getState().currentPlayerCards.slice(0,8);r.selectCards(l)}),document.querySelector("#setupView").classList.add("hidden"),document.querySelector("#cardSelectionView").classList.add("hidden"),document.querySelector("#gameView").classList.remove("hidden"),r.startRound(1),p(),console.log("Quick test setup complete - jumped straight to gameplay!")}catch(o){console.error("Quick test setup failed:",o),alert(`Quick test setup failed: ${o.message}`)}}
